

# Self similarity 
<module> seqmaker.vector


# coding sequences have both diagnostic and med codes

  + (docID=doc_0) sims:
[('doc_2443', 0.7797582149505615), ('doc_2416', 0.7794861793518066), ('doc_2686', 0.7714057564735413), ('doc_776', 0.7709947824478149), ('doc_2462', 0.7660417556762695), ('doc_1897', 0.765132486820221), ('doc_1073', 0.7562220096588135), ('doc_1593', 0.7554289102554321), ('doc_586', 0.7519910931587219), ('doc_1680', 0.7478092908859253), ('doc_738', 0.7401943206787109), ('doc_1211', 0.738070547580719), ('doc_2631', 0.7329009771347046), ('doc_1417', 0.7328089475631714), ('doc_2078', 0.730658769607544), ('doc_2623', 0.7302093505859375), ('doc_1465', 0.7301768064498901), ('doc_1339', 0.7301417589187622), ('doc_1088', 0.7289285659790039), ('doc_1486', 0.7288686037063599)]

  + (docID=doc_1) sims:
[('doc_1', 0.8433595299720764), ('doc_539', 0.6733994483947754), ('doc_1668', 0.6558762192726135), ('doc_2261', 0.621690571308136), ('doc_2462', 0.6211321353912354), ('doc_1088', 0.615441083908081), ('doc_744', 0.6033872365951538), ('doc_853', 0.5979382395744324), ('doc_1407', 0.5974366664886475), ('doc_1507', 0.5954501628875732), ('doc_1151', 0.5943867564201355), ('doc_1523', 0.5937705636024475), ('doc_1554', 0.5922035574913025), ('doc_1566', 0.5916690826416016), ('doc_1144', 0.5911861062049866), ('doc_1511', 0.5911620855331421), ('doc_1505', 0.5896333456039429), ('doc_1748', 0.5888854265213013), ('doc_1552', 0.5885180234909058), ('doc_1487', 0.5881845951080322)]

  + (docID=doc_2) sims:
[('doc_2078', 0.8363276720046997), ('doc_1897', 0.8262746334075928), ('doc_1088', 0.805616021156311), ('doc_1593', 0.7982288599014282), ('doc_2462', 0.7947295308113098), ('doc_816', 0.7922699451446533), ('doc_2443', 0.7893922328948975), ('doc_776', 0.7867876291275024), ('doc_2477', 0.7755871415138245), ('doc_2269', 0.7650073170661926), ('doc_586', 0.7633543014526367), ('doc_2416', 0.7599156498908997), ('doc_1730', 0.753780722618103), ('doc_2144', 0.7472890615463257), ('doc_1357', 0.7442132830619812), ('doc_1719', 0.7418010234832764), ('doc_1073', 0.7353429794311523), ('doc_506', 0.7318142652511597), ('doc_2021', 0.7316314578056335), ('doc_1552', 0.7304022312164307)]


# diag + med 
+ ratio of self similarity (ideally 1.0): 0.685492, top 3: 0.730321

# diag 
+ ratio of self similarity (ideally 1.0): 0.646475, top 3: 0.695714

   
   <todo> 
       + what if remove n_epoch outer loop? no multiple pass over the data 
         train_model
         
         
       + only diagnostic code? 
       
         <check> 
             + original doc:  
             
             + training set to: data/CKD/combined/tset-n0-IDregular-pv-dm2-GCKD.csv 